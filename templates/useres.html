{% extends "base.html" %}
{% block content %}

<h2>Admin â€“ Benutzer</h2>
<p>Angemeldet als: <b>{{ me["name"] }}</b> ({{ me["role"] }})</p>

<div class="card">
  <h3 style="margin-top:0;">Neuen Benutzer erstellen</h3>
  <form method="POST">
    <label>Name</label>
    <input name="new_name" required>

    <div style="margin-top:12px;">
      <label>PIN</label>
      <input name="new_pin" type="password" inputmode="numeric" required>
    </div>

    <div style="margin-top:12px;">
      <label>Rolle</label>
      <select name="new_role" style="width:100%;padding:10px;border-radius:10px;">
        <option value="worker">worker</option>
        <option value="admin">admin</option>
      </select>
    </div>

    <div style="margin-top:14px;">
      <button class="btn btn-primary" type="submit">Erstellen</button>
    </div>
  </form>
</div>

<div class="card">
  <h3 style="margin-top:0;">Liste</h3>
  <table style="width:100%; border-collapse:collapse;">
    <tr>
      <th style="text-align:left;padding:8px;border-bottom:1px solid #333;">ID</th>
      <th style="text-align:left;padding:8px;border-bottom:1px solid #333;">Name</th>
      <th style="text-align:left;padding:8px;border-bottom:1px solid #333;">Rolle</th>
    </tr>
    {% for u in users %}
      <tr>
        <td style="padding:8px;border-bottom:1px solid #222;">{{ u["id"] }}</td>
        <td style="padding:8px;border-bottom:1px solid #222;">{{ u["name"] }}</td>
        <td style="padding:8px;border-bottom:1px solid #222;">{{ u["role"] }}</td>
      </tr>
    {% endfor %}
  </table>
</div>

{% endblock %}